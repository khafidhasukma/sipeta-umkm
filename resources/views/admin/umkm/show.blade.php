@extends('layouts.admin') @section('title', 'Detail UMKM') @section('page-title', 'Detail UMKM - ' . $umkm->nama_usaha) @push('styles') <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" /> <style> #detailMap { height: 300px; border-radius: 0.75rem; } </style> @endpush @section('content') <!-- Action Buttons --> <div class="flex items-center justify-between mb-6"> <a href="{{ route('admin.umkm.index') }}" class="inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors"> <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"/> </svg> Kembali </a> <div class="flex space-x-2"> <a href="{{ route('admin.umkm.edit', $umkm) }}" class="inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors"> <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/> </svg> Edit </a> </div> </div> <!-- Main Info Card --> <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6"> <div class="flex items-start justify-between mb-6"> <div> <h2 class="text-2xl font-bold text-gray-900 mb-2">{{ $umkm->nama_usaha }}</h2> <div class="flex items-center space-x-4"> @if($umkm->is_verified) <span class="px-3 py-1 text-sm font-medium bg-green-100 text-green-800 rounded-full inline-flex items-center"> <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20"> <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/> </svg> Terverifikasi </span> @else <span class="px-3 py-1 text-sm font-medium bg-yellow-100 text-yellow-800 rounded-full"> Pending Verifikasi </span> @endif </div> </div> </div> <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"> <div> <label class="block text-sm font-medium text-gray-500 mb-1">Pemilik</label> <p class="text-gray-900 font-medium">{{ $umkm->user->name }}</p> <p class="text-sm text-gray-600">{{ $umkm->user->email }}</p> </div> <div> <label class="block text-sm font-medium text-gray-500 mb-1">NIB</label> <p class="text-gray-900 font-mono">{{ $umkm->user->nib ?? '-' }}</p> </div> <div> <label class="block text-sm font-medium text-gray-500 mb-1">Jenis Usaha</label> <p class="text-gray-900">{{ $umkm->jenis_usaha }}</p> </div> <div> <label class="block text-sm font-medium text-gray-500 mb-1">Kecamatan</label> <p class="text-gray-900">{{ $umkm->kecamatan }}</p> </div> <div> <label class="block text-sm font-medium text-gray-500 mb-1">Tenaga Kerja</label> <p class="text-gray-900">{{ number_format($umkm->jumlah_tenaga_kerja, 0, ',', '.') }} orang</p> </div> <div> <label class="block text-sm font-medium text-gray-500 mb-1">Omzet Bulanan</label> <p class="text-lg font-bold text-green-600">Rp {{ number_format($umkm->omzet_bulanan, 0, ',', '.') }}</p> </div> <div class="md:col-span-2 lg:col-span-3"> <label class="block text-sm font-medium text-gray-500 mb-1">Alamat</label> <p class="text-gray-900">{{ $umkm->alamat }}</p> </div> </div> </div> <!-- Map --> @if($umkm->latitude && $umkm->longitude) <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6"> <h3 class="text-lg font-semibold text-gray-900 mb-4">Lokasi</h3> <div id="detailMap"></div> </div> @endif <!-- Production Tools & Raw Materials --> <div class="grid grid-cols-1 lg:grid-cols-2 gap-6"> <!-- Production Tools --> <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6"> <h3 class="text-lg font-semibold text-gray-900 mb-4">Alat Produksi</h3> @if($umkm->productionTools->count() > 0) <div class="space-y-3"> @foreach($umkm->productionTools as $tool) <div class="p-3 bg-gray-50 rounded-lg"> <div class="flex items-center justify-between mb-2"> <span class="text-gray-900 font-medium">{{ $tool->nama_alat }}</span> <span class="text-sm font-medium text-blue-600">{{ $tool->kapasitas }}</span> </div> <div class="flex items-center justify-between text-sm text-gray-600"> <span>{{ ucfirst($tool->kondisi) }}</span> <span>{{ ucwords($tool->status_kepemilikan) }}</span> </div> </div> @endforeach </div> @else <p class="text-gray-500 text-center py-4">Belum ada data alat produksi</p> @endif </div> <!-- Raw Materials --> <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6"> <h3 class="text-lg font-semibold text-gray-900 mb-4">Bahan Baku</h3> @if($umkm->rawMaterials->count() > 0) <div class="space-y-3"> @foreach($umkm->rawMaterials as $material) <div class="p-3 bg-gray-50 rounded-lg"> <div class="flex items-center justify-between mb-1"> <span class="text-gray-900 font-medium">{{ $material->nama_bahan }}</span> <span class="text-sm font-medium text-blue-600">{{ number_format($material->kebutuhan_per_bulan, 0, ',', '.') }} {{ $material->satuan }}/bulan</span> </div> <p class="text-sm text-gray-600">Supplier: {{ $material->asal_supplier }}</p> </div> @endforeach </div> @else <p class="text-gray-500 text-center py-4">Belum ada data bahan baku</p> @endif </div> </div> @endsection @push('scripts') @if($umkm->latitude && $umkm->longitude) <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script> <script> const map = L.map('detailMap').setView([{{ $umkm->latitude }}, {{ $umkm->longitude }}], 15); L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { attribution: 'Â© OpenStreetMap contributors' }).addTo(map); const marker = L.marker([{{ $umkm->latitude }}, {{ $umkm->longitude }}]).addTo(map); marker.bindPopup('<b>{{ $umkm->nama_usaha }}</b>').openPopup(); </script> @endif @endpush 